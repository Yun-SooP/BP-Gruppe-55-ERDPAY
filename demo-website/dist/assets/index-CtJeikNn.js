var f=Object.defineProperty;var y=(o,e,n)=>e in o?f(o,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[e]=n;var p=(o,e,n)=>(y(o,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))c(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&c(r)}).observe(document,{childList:!0,subtree:!0});function n(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function c(t){if(t.ep)return;t.ep=!0;const s=n(t);fetch(t.href,s)}})();class i{constructor(e,n,c,t){this.name=e,this.description=n,this.price=c,this.imageUrl=t}}class g{constructor(){p(this,"items",[]);p(this,"total",0)}addToCart(e){this.items.push(e),this.updateCartUI();const n=`${e.name} added to cart`;h(n)}removeAfterPurchase(){this.items=[],this.updateCartUI(),h("Purchase successful!")}removeFromCart(e){const n=this.items.splice(e,1);document.getElementById(`${n[0].name}`).disabled=!1,this.updateCartUI()}updateCartUI(){const e=document.getElementById("cartItems"),n=document.getElementById("totalPrice"),c=document.getElementById("payButton");e.innerHTML="",this.total=0,this.items.length==0?(e.textContent="so empty",c.disabled=!0,n.textContent=""):(this.items.forEach((t,s)=>{const r=document.createElement("li");r.innerHTML=`
                    <span>${t.name}</span>
                    <span>${t.price} 0x923439be515b6a928cb9650d70000a9044e49e85 </span>
                    
                `;const a=document.createElement("button");a.className="article button",a.textContent="remove",a.addEventListener("click",()=>this.removeFromCart(s)),r.appendChild(a),e==null||e.appendChild(r),this.total+=t.price}),n.textContent=`Total: ${this.total} 0x923439be515b6a928cb9650d70000a9044e49e85`,c.disabled=!1)}}function b(){const o=window.open("../ext/dist/index.html","Popup","width=800,height=1000,location=no,menubar=no,toolbar=no"),e={type:"address",options:{address1:"0x69c6aBd542d2e64E618",address2:"177d2c5E617dFC3620ba7"}},n={type:"amount",options:{amount:m.total}},c={type:"tokenAddress",options:{address:"0x923439be515b6a928cb9650d70000a9044e49e85"}};window.addEventListener("message",t=>{t.source===o&&t.data.type==="popupResult"&&(o.close(),h(t.data.result.value),m.removeAfterPurchase()),t.source===o&&t.data.type==="ready"&&(o.postMessage(e,"*"),o.postMessage(n,"*"),o.postMessage(c,"*"))})}const m=new g,l=document.getElementById("cartButton"),u=document.getElementById("payButton");u==null||u.addEventListener("click",async function(){b()});l==null||l.addEventListener("click",function(){document.getElementById("cart").style.display=="none"?document.getElementById("cart").style.display="block":document.getElementById("cart").style.display="none"});const E=[new i("BP Gruppe 55 #1","Token ID: 1",1,"/src/pics/article1.jpg"),new i("BP Gruppe 55 #2","Token ID: 2",1,"/src/pics/article2.jpg"),new i("BP Gruppe 55 #3","Token ID: 3",1,"/src/pics/article3.jpg"),new i("BP Gruppe 55 #4","Token ID: 4",1,"/src/pics/article4.jpg"),new i("BP Gruppe 55 #5","Token ID: 5",1,"/src/pics/article5.jpg"),new i("BP Gruppe 55 #6","Token ID: 6",1,"/src/pics/article6.jpg")];function C(){const o=document.getElementById("article-container");o&&(o.innerHTML="",E.forEach(e=>{const n=document.createElement("div");n.className="article";const c=document.createElement("img");c.src=e.imageUrl,c.alt=e.name;const t=document.createElement("h2");t.textContent=e.name;const s=document.createElement("p");s.textContent=e.description;const r=document.createElement("p");r.textContent=`Aktueller Preis: ${e.price} 0x9234...9e85`,r.title="0x923439be515b6a928cb9650d70000a9044e49e85";const a=document.createElement("button");a.className="article button",a.id=`${e.name}`,a.textContent="Add to cart",a.addEventListener("click",function(){m.addToCart(e),a.disabled=!0}),n.appendChild(c),n.appendChild(t),n.appendChild(s),n.appendChild(r),n.appendChild(a),o.appendChild(n)}))}const d=document.getElementById("popup");function h(o){d&&(d.textContent=o,d.style.display="block",setTimeout(()=>{d.style.display="none"},2e3))}document.addEventListener("DOMContentLoaded",C);
